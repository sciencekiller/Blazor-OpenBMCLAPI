@inject Toolbelt.Blazor.I18nText.I18nText I18nText
@inject UserService _userService

@* <p Style="display:inline-block">@i18n["username"] : </p>
<Input Placeholder=@i18n["username"] @bind-Value="@userInfo.userName" DebounceMilliseconds="0" Style="display:inline-block" /> *@
<InputChunk @bind-Value="@InternalValue.cluster_id" placeHolder="Cluster ID" tip="Cluster ID" />
<br />
@* <p Style="display:inline-block">@i18n["password"] : </p>
<InputPassword Placeholder=@i18n["password"] @bind-Value="@userInfo.password" DebounceMilliseconds="0" Style="display:inline-block" /> *@
<InputChunk placeHolder="Cluster secret" @bind-Value="@InternalValue.cluster_secret" tip="Cluster secret" isPassword="true" />

@code {
    [Parameter]
    public ClusterInfo Value { get; set; }

    [Parameter]
    public EventCallback<ClusterInfo> ValueChanged { get; set; }

    private ClusterInfo InternalValue
    {
        get => Value;
        set
        {
            if (Value != value)
            {
                Value = value;
                ValueChanged.InvokeAsync(value);
            }
        }
    }

    I18nText.cluster i18n = new I18nText.cluster();
    protected override async Task OnInitializedAsync()
    {
        i18n = await I18nText.GetTextTableAsync<I18nText.cluster>(this);
    }

}